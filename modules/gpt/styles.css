:root{
  color-scheme: dark;

  /* پالت مینیمال شبیه ChatGPT */
  --bg: #0b0e11;        /* پس‌زمینه‌ی عمیق */
  --ink: #e6edf3;       /* متن اصلی */
  --ink-dim: #9aa4b2;   /* متن کمرنگ */
  --panel: #0f1317;     /* پنل‌ها */

  /* بلاک‌ها (بسیار ساده، بدون گرادیان/نئون/کادر) */
  --block-ai:   #0f1419; /* AI */
  --block-user: #121820; /* User */

  /* فوکِس نرم */
  --focus: rgba(127,179,255,.22);

  /* ابعاد */
  --r-lg: 14px;
}

*{box-sizing:border-box; -webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{
  margin:0;
  background: var(--bg);
  color: var(--ink);
  font: 15px/1.65 -apple-system, BlinkMacSystemFont, "SF Pro Text", "IRANSans",
        system-ui, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* کانتینر */
.app{max-width: 900px; margin: 0 auto; padding: 0 12px 120px}

/* Header مینیمال (شبیه ChatGPT: عنوان وسط، اکشن سمت راست) */
.header{
  position: sticky; top: 0; z-index: 10;
  background: linear-gradient(to bottom, rgba(11,14,17,.85), rgba(11,14,17,.55) 40%, transparent);
  backdrop-filter: blur(6px) saturate(140%);
}
.header__inner{
  height: 52px; display: grid; grid-template-columns: 1fr auto 1fr; align-items: center;
}
.header__title{ margin:0; text-align:center; font-weight:700; font-size:16px; letter-spacing:.2px }
.header__spacer{ width: 64px }
.btn-ghost{
  justify-self: end;
  height: 36px; padding: 0 12px; border-radius: 10px;
  background: transparent; color: var(--ink);
  border: 1px solid rgba(255,255,255,.08);
  cursor: pointer;
}
.btn-ghost:active{ transform: translateY(1px); opacity: .9 }

/* جریان چت – بلاک‌های ساده بدون کادر */
.chat{ display:flex; flex-direction:column; gap: 10px; padding: 10px 0 0 }
.msg{ display:flex }
.msg.ai{ justify-content:flex-start }
.msg.user{ justify-content:flex-end }

.block{
  max-width: 780px;
  padding: 12px 14px;
  border-radius: var(--r-lg);
  white-space: pre-wrap;
  font-size: 15px;
  line-height: 1.65;
}
.msg.ai .block   { background: var(--block-ai); }
.msg.user .block { background: var(--block-user); }

/* Composer پایین – بدون نئون/سایه اغراق‌آمیز */
.composer{
  position: fixed; inset-inline: 0; bottom: 12px;
  display: grid; place-items: center;
}
.composer__form{
  width: min(900px, calc(100% - 24px));
  display: grid; grid-template-columns: 1fr 96px; gap: 10px;
}
#prompt-input{
  width: 100%; max-height: 180px; resize: none; outline: none;
  background: #0e1318; color: var(--ink);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px; padding: 12px 14px;
}
#prompt-input::placeholder{ color: #7a8594 }
#prompt-input:focus{ border-color: #7fb3ff; box-shadow: 0 0 0 3px var(--focus) }
.send{
  border: 0; border-radius: 12px; color: #0b0e11; font-weight: 700;
  background: #cfe3ff; /* دکمه روشن، بدون گرادیان/نئون */
  padding: 12px 14px; cursor: pointer;
}
.send:disabled{ opacity: .6; cursor: default }
.send:active{ transform: translateY(1px) }
.hint{ margin-top: 6px; text-align: center; color: var(--ink-dim); font-size: 12px }

/* تایپینگ ایندیکیتر */
.loading .block{ opacity: .95 }
.dots{ display:inline-flex; gap:6px; margin-inline-start:6px; vertical-align:middle }
.dots i{ width:6px; height:6px; border-radius:999px; background: currentColor; opacity:.55; animation: d 1.2s infinite ease-in-out }
.dots i:nth-child(2){ animation-delay: .18s }
.dots i:nth-child(3){ animation-delay: .36s }
@keyframes d{ 0%,80%,100%{ transform: scale(.6); opacity:.4 } 40%{ transform: scale(1); opacity: 1 } }

/* ورود نرم پیام‌ها */
.fade-in{ animation: fade .2s ease both }
@keyframes fade{ from{ opacity:0; transform: translateY(4px) } to{ opacity:1; transform:none } }

/* ریسپانسیو */
@media (max-width: 520px){
  .composer__form{ grid-template-columns: 1fr 84px }
  .send{ font-size: 14px }
}
